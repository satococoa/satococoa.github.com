
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>satococoa's blog</title>
	<meta name="author" content="Satoshi Ebisawa">

	
	<meta name="description" content="東京 Ruby 会議 10 に2日間フルに参加してきました。 1日目 僕はほとんど #p4d の Rubyist のためのデザイン講座 のことで頭がいっぱいだったので、無事にこれを実現できたことで満足です。 第一回プログラマ向けデザイン講座 に参加できなかった方にもたくさん参加していただけて、 &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="satococoa's blog" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">satococoa's blog</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:satococoa.github.io">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		<a class="facebook" href="http://www.facebook.com/satoshi.ebisawa" title="Facebook">Facebook</a>
		
		
		
		<a class="twitter" href="http://twitter.com/satococoa" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/satococoa" title="GitHub">GitHub</a>
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:satococoa.github.io">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/01/15/tkrk10/">
		
			東京 Ruby 会議 10に参加しました</a>
	</h2>
	<div class="entry-content">
		<p><a href="http://tokyo10.rubykaigi.info">東京 Ruby 会議 10</a> に2日間フルに参加してきました。</p>

<h2>1日目</h2>

<p>僕はほとんど #p4d の <a href="http://tokyo10.rubykaigi.info/workshops/p4d">Rubyist のためのデザイン講座</a> のことで頭がいっぱいだったので、無事にこれを実現できたことで満足です。</p>

<p><a href="http://connpass.com/event/1185/">第一回プログラマ向けデザイン講座</a> に参加できなかった方にもたくさん参加していただけて、ワークショップの部屋がほぼ満員という状態にまでなったのでとても嬉しかったです。</p>

<p>初導入の実習コーナーも楽しかったですね！</p>

<p>#p4d を主催していながら、最近僕は自分の個人名義のプロダクトをあまり作れていなくてせっかく学んだことを活かす機会が作れていないので、今年は頑張りたいです。</p>

<h2>2日目</h2>

<p>朝から雨風が強く、お昼からは完全に大雪でした。</p>

<p>本当はこの日の午後から RubyMotion 関連で発表をするはずだったのですが、残念ながらその前に東京 Ruby 会議 10 が大雪のため前倒しで終了となってしまいました。</p>

<p>なので、しばらくは「幻のスピーカー」を名乗っていこうと思います。</p>

<h3>発表しようと思っていたこと</h3>

<p>RubyMotion を使って、Rails の Scaffold で作った簡単なアプリケーションのデータの CRUD を iOS で実装するライブコーディングをしようと思っていました。</p>

<p>コードは github で公開されていますので、よろしければご覧下さい。</p>

<p><a href="http://bubblewrap.io">BubbleWrap</a> と <a href="http://clayallsopp.github.com/formotion/">Formotion</a> を使っていて、これらのおかげで非常に簡単にサーバと通信するフォームやリストを作ることが出来ました。</p>

<ul>
<li><a href="https://github.com/satococoa/tkrk10_server">サーバ側</a></li>
<li><a href="https://github.com/satococoa/tkrk10_client">クライアント側</a></li>
</ul>


<h2>まとめ</h2>

<p>僕はほぼ #p4d のワークショップに時間を使っていてあまり歩き回ったりはしていなかったのですが、それでも今回もたくさんの Rubyist と交流することが出来ました。</p>

<p>バッヂを使った交流は良いアイディアだな、と思いました。どうしても発表形式の勉強会なんかだと他の人と話をせずに終わってしまう可能性がありますからね。</p>

<p>あと、大雪での打ち切りは本当にスタッフの方は悔しい思いをされたと思います。それを思うと心苦しいですが、でも2日間とても楽しかったです！</p>

<p>スタッフのみなさん、発表者のみなさん、そして #p4d ワークショップに来てくれた方や協力してくれた方々、どうもありがとうございました。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-01-15T04:37:00+09:00" pubdate data-updated="true">Jan 15<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/community/'>Community</a>, <a class='category' href='/blog/categories/ruby/'>Ruby</a>, <a class='category' href='/blog/categories/event/'>event</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/12/31/2012-2013/">
		
			2012年のまとめと2013年の抱負</a>
	</h2>
	<div class="entry-content">
		<p>2012年ももう最終日となってしまいましたので、まとめ的なブログでも書いてみようと思います。</p>

<h2>2012年</h2>

<p>2012年の年初に挙げた目標は「自重しない」ということでした。
ある程度はその目標通り、色んなことにチャレンジできた1年だったと思います。</p>

<p>特に思い出深い出来事を振り返ってみます。</p>

<h3>みなとRuby会議01</h3>

<p>6/2(土)に開催された<a href="http://regional.rubykaigi.org/minato01">みなとRuby会議01</a>の副実行委員長をやらせていただきました。</p>

<p>ほとんどのメンバーが地域 Ruby 会議の運営が初めてという状態ではありましたが、1月から何度も打ち合わせを重ね、工夫を凝らして楽しい Ruby 会議を作ることが出来たと思います。</p>

<p>そのときのエントリはこちらです。<a href="http://satococoa.github.com/blog/2012/06/04/minato-rubykaigi-01/">みなとRuby会議01</a></p>

<p>唯一の心残りは Ruby アイドルの招致に失敗したことですね。</p>

<h3>Yokohama.rb</h3>

<p><a href="http://bukt.org/groups/3">Bu: Yokohama.rb</a></p>

<p>今年も非常にお世話になりました。</p>

<p>今、僕が積極的に勉強会などのコミュニティへ参加できるようになったのは Yokohama.rb でたくさんの仲間ができ、自信をもらったからです。</p>

<p>ちなみによく聞かれるのですが、僕は横浜に住んでいません。むしろ最寄りは Asakusa.rb です。（来年は Asakusa.rb ももう少し参加したい。）<br/>
前職に在職中に土日に参加できる Ruby の勉強会を探して、当時唯一見つけたのが Yokohama.rb だったのが参加の理由でした。</p>

<p>ちなみに出欠確認に使っている <a href="http://bukt.org/">Bu</a> ですが、Yokohama.rb ファウンダーの<a href="https://twitter.com/dan5ya">だん</a>さん作で、現在 <a href="https://twitter.com/1syo">@1syo</a> さん主導でリファクタリングが進められています。→ <a href="https://github.com/1syo/bu">https://github.com/1syo/bu</a><br/>
参加自由ですので Yokohama.rb メンバーはコードレビューとか参加してみては？とても勉強になりますよ。</p>

<p>リファクタリングが落ち着いたら API を作って RubyMotion か Objective-C で iPhone クライアント作りたいです。どっち使うかは一緒にやってくれる人の希望次第で。</p>

<h3>#P4D</h3>

<p>今年は大体月1回ずつ何かしらのイベントを開催しました。</p>

<p>特に<a href="http://connpass.com/event/1185/">第一回 プログラマ向けデザイン勉強会</a>の盛り上がりがすごかったですね。</p>

<p>これがきっかけで発表してくださったデザイナさんにも改めて注目が集まり、今後の色んな展開につながりそうです。<br/>
詳しくはまだ伏せますが、面白いことが進んでいるようなので楽しみにしています。</p>

<p>来年早々の<a href="http://tokyo10.rubykaigi.info">東京Ruby会議10</a>では半日分 #p4d で枠をもらっているので、前述のデザイン勉強会を再演しようと思います。前回参加できなかった方はぜひぜひご参加ください。（もしかすると席が足りずに当日先着順の受付になるかもしれません。ご了承ください。）→ <a href="http://tokyo10.rubykaigi.info/workshops/p4d">#p4d 「Rubyistのためのデザイン講座」</a></p>

<p>現在の #p4d は基本月1回平日夜に集まれる人で集まって、自由に開発をしたりデザイン・プログラムの相談をしたりするもくもく会のような形式で落ち着いてきました。<br/>
来年からは月2回に増やして開催していきたいと思いますので、プログラミングに興味のあるデザイナさん、デザインに興味のあるプログラマさんはぜひお気軽にご参加ください。</p>

<h3>RubyMotion</h3>

<p>個人的に今年一番力を注いだのは <a href="http://www.rubymotion.com">RubyMotion</a> でした。</p>

<p><a href="http://connpass.com/event/665/">第一回 RubyMotion勉強会</a> をはじめ、9月からは月1回 RubyMotionもくもく会を開催しています。</p>

<p>また、<a href="http://www.adventar.org/calendars/18">RubyMotion Advent Calendar 2012</a> も企画し、無事に25日分の貴重な情報が集まりました。</p>

<p><a href="http://jp.rubyist.net/magazine/">るびま</a>に<a href="http://jp.rubyist.net/magazine/?0039-IntroductionToRubyMotion">RubyMotion のご紹介</a>という記事を書かせていただいたのも本当に貴重な体験となりました。</p>

<h3>仕事</h3>

<p>とてもありがたいことに RubyMotion + Rails で仕事をしています。<br/>
RubyMotionの発売が5月初旬でしたが、6月から仕事で使っています。</p>

<p>当初は iOS の開発もほぼ初めての状態だったので何かおかしな動作をしても自分の書き方が悪いのかそれとも RubyMotion のバグなのかがわからずに、同じ実装を Objective-C でも書いてみて動作を比較したり、それを元にサポートにチケットを送ったり Pull Request を送ったりしていました。</p>

<p>現在はかなり RubyMotion 自体が成熟してきたのと自分が Cocoa Touch に慣れてきたのがあり、効率よくものを作れるようになってきました。</p>

<p>Rails を仕事で使うのは今のプロジェクトが初めてなのですが、周りに Ruby や Rails が得意な同僚がたくさんいるため、安心して開発を進めることが出来ています。</p>

<p>すぐに同僚に相談できる環境というのが素晴らしいですね。お世話になっています。</p>

<p>ちなみに僕の勤める<a href="http://1923.co.jp">株式会社イグニス</a>では現在一緒にアプリ作りをする仲間を募集しています。→ <a href="http://1923.co.jp/recruit.html">採用情報</a></p>

<p>僕に個人的に声をかけていただいても結構ですので、お気軽にご連絡ください。一緒に RubyMotion や Objective-C、Rails でアプリをつくりませんか？</p>

<ul>
<li>twitter: <a href="https://twitter.com/satococoa">@satococoa</a></li>
<li>facebook: <a href="https://www.facebook.com/satoshi.ebisawa">satoshi.ebisawa</a></li>
<li>メール: <a href="&#109;&#x61;&#105;&#x6c;&#116;&#x6f;&#x3a;&#101;&#46;&#x73;&#97;&#116;&#111;&#x73;&#104;&#105;&#64;&#103;&#x6d;&#97;&#105;&#108;&#46;&#99;&#x6f;&#x6d;">&#101;&#x2e;&#115;&#x61;&#x74;&#111;&#115;&#x68;&#105;&#64;&#103;&#x6d;&#x61;&#105;&#108;&#x2e;&#99;&#111;&#109;</a></li>
</ul>


<h2>2013年</h2>

<p>来年は「広げる」をテーマにやってみようかな、と思います。</p>

<p>具体的にやりたいと思っていることをざっくり挙げると、</p>

<ul>
<li>ビギナー向けiOSアプリ勉強会をやってみたい<br/>
デザイナさんはもちろん、企画やプロデューサの方も対象として iOS アプリの作り方がざっくりわかるような勉強会を開催したい。</li>
<li>第2回 プログラマ向けデザイン講座<br/>
3月頃にやれればなぁ。。。と考えています。</li>
<li>本や記事を書きたい<br/>
まずは電子書籍で、いずれ紙媒体で出版される物を書きたいです。テーマは今ならやっぱり RubyMotion かなぁ。</li>
</ul>


<p>もともとPC スクールのインストラクターをしていたことがあって、ものを教えることが好きなので、もちろん自分の手を動かしてものづくりをしていくことは継続しつつも、その楽しさを広めていけるような活動をしたいと思っています。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-12-31T00:33:00+09:00" pubdate data-updated="true">Dec 31<span>st</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/ri-ji/'>日記</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/12/25/made-rubymotion-advent-calendar-2012-application/">
		
			RubyMotion Advent Calendar 2012 のアプリをつくりました</a>
	</h2>
	<div class="entry-content">
		<p>この記事は <a href="http://www.adventar.org/calendars/18">RubyMotion Advent Calendar 2012</a> の25日目の記事です。</p>

<p>時間がちょっと足りなくてやっつけ感が半端ないですが、Advent Calendar に登録された記事を見られるアプリを作ってみました。</p>

<p>ちょっと見積もりを誤ってしまい、細かい動作や見た目を調整している間がありませんでした＞＜</p>

<p>（具体的には意外とカレンダーの表示に使っているライブラリの自由度が狭くて難儀してました。）</p>

<p><img src="/images/201212/rubymo.png"></p>

<p>リポジトリは以下です。</p>

<p><a href="https://github.com/satococoa/RubyMo">https://github.com/satococoa/RubyMo</a></p>

<p>カレンダーの表示は <a href="https://github.com/klazuka/Kal">Kal</a> を使い、エントリの表示には <a href="http://nimbuskit.info">NimbusKit</a> を使っています。</p>

<p>簡単なサンプル程度のものではありますが、CocoaPods を用いたライブラリの導入や、BubbleWrap での RSS を取得する処理など、参考にしていただけるところもあると思います。</p>

<h2>RubyMotion Advent Calendar 2012 のまとめ</h2>

<p>本当に25日分エントリが集まって本当に嬉しく思っています。特に複数の記事を書いていただいた方にはとても感謝しています。</p>

<p>来年 2013 年は <a href="http://www.rubymotion.com/conference/">#inspect 2013 &ndash; RubyMotion Conference</a> もありますし、まだ構想段階ではありますが日本でもカンファレンス(仮)をやりたいと思っています。</p>

<p>今後ユーザーが増えてますます情報の共有が進んでくると、いよいよ仕事で実践投入する方も増えてくることと思います。</p>

<p>来年もユーザー同士でのコミュニケーションが出来る場を作りつつ、自分でもいいアプリをどんどん作っていきたいと思います。</p>

<p>今年お世話になった RubyMotion 関連の方々、本当にありがとうございました。また来年もよろしくお願いします。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-12-25T22:06:00+09:00" pubdate data-updated="true">Dec 25<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/rubymotion/'>RubyMotion</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/12/19/rubymotion-mokmok-4th/">
		
			第4回 RubyMotion もくもく会</a>
	</h2>
	<div class="entry-content">
		<p>この記事は <a href="http://www.adventar.org/calendars/18">RubyMotion Advent Calendar 2012</a> の19日目の記事です。</p>

<p>本日(12/19)、<a href="http://connpass.com/event/1534/">第4回 RubyMotion もくもく会</a> を開催しました。</p>

<p>前回の様子は id:naoya さんの <a href="http://d.hatena.ne.jp/naoya/20121129/1354186463">RubyMotionもくもく会</a> のエントリをご参照ください。</p>

<p><img src="/images/201212/rubymotion-mokmok-4th.jpg"></p>

<h2>目的</h2>

<p>大きな目的は、RubyMotion ユーザー間のつながりを作り、ノウハウ共有の場をつくるということです。</p>

<p>発売から約7ヶ月という若いプロダクトである上有料(1万円超)という高いハードルもあり、Titaniumなどと比べるとまだまだ検索などでひっかかる情報量が少ない印象です。</p>

<p>また、開発には Ruby と CocoaTouch の知識が必要となりますのでそのいずれかにある程度明るくないとハマる人は問題の切り分けも難しいくらいにとことんハマってしまう恐れがあります。</p>

<p>そういうとき気軽に相談ができる場が必要なのでは、と考えて開催させていただいています。</p>

<p>せっかく日本にコミッター(<a href="https://twitter.com/watson1978">@watson1978</a>さん)もいることですし、どんどん情報を共有していきたいな、と考えています。</p>

<h2>内容</h2>

<p>はじめに各自軽く自己紹介と今日やることの発表をします。あとは随時質問や雑談を交えながらそれぞれの課題をこなしていきます。</p>

<p>今日は RubyMine を使っている方がいたので補完している様子やデバッグの様子を見せていただいたりしました。</p>

<p>つい数日前に RubyMotion を始めたばかりという方やチュートリアルを進めている方もいらっしゃいました。</p>

<p>実際にアプリを開発している方はそのアプリの開発やアップデートなどをすすめていました。</p>

<p>あとはドラクエのプレイヤーを探している方や iPhone の復元をしている方などもいて、なかなか斬新でした。</p>

<h2>今後</h2>

<p>今後も月一回程度の開催頻度でやっていこうと思います。事前の知識や経験などは問いませんので RubyMotion に興味を持っている方はぜひお気軽にご参加ください。</p>

<p>次回は1/23(水)です！→ <a href="http://connpass.com/event/1602/">第5回 RubyMotion もくもく会</a></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-12-19T20:39:00+09:00" pubdate data-updated="true">Dec 19<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/rubymotion/'>RubyMotion</a>, <a class='category' href='/blog/categories/event/'>event</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/12/17/use-nimbus-css-with-rubymotion/">
		
			RubyMotion で Nimbus CSS を使ってみる</a>
	</h2>
	<div class="entry-content">
		<p>この記事は <a href="http://www.adventar.org/calendars/18">RubyMotion Advent Calendar 2012</a> の17日目の記事です。</p>

<h2>Nimbus?</h2>

<p>最近 <a href="http://fladdict.net/blog/2012/12/nimbus-kit.html">新Google Mapsアプリ採用のフレームワーク NimbusKit がいい感じ</a> で話題になった <a href="http://nimbuskit.info">NimbusKit</a> というフレームワークに興味を持ってちらっと調べてみたのですが、なんと CSS でアプリの View の定義ができるらしいということがわかりました。</p>

<p>しかも、CSS を変更するとリアルタイムにその変更が反映されるそうじゃないですか！</p>

<p>デモ動画はこちらです。</p>

<iframe width="560" height="315" src="http://www.youtube.com/embed/i_5LbQ8e9BU" frameborder="0" allowfullscreen></iframe>


<p>さっそく、RubyMotion からも使えるか、試してみました。</p>

<h2>インストール</h2>

<p>普通に motion-cocoapods でインストールできます。
Rakefile にこんな感じに書いて、いつも通り<code>$ rake</code>でOKです。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  app.pods do
</span><span class='line'>    pod 'Nimbus'
</span><span class='line'>  end</span></code></pre></td></tr></table></div></figure>


<h2>コード</h2>

<p>Nimbus CSS 関連のコードだけ貼ります。基本的には公式のドキュメントの <a href="http://docs.nimbuskit.info/NimbusCSS.html">Nimbus: Nimbus CSS</a> にある &ldquo;Recommended Procedure for Storing Stylesheets&rdquo; をなぞっているだけです。</p>

<p>app/app_delegate.rb</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class AppDelegate
</span><span class='line'>  attr_accessor :stylesheet_cache
</span><span class='line'>
</span><span class='line'>  def application(application, didFinishLaunchingWithOptions:launchOptions)
</span><span class='line'>    @window = UIWindow.alloc.initWithFrame(App.bounds)
</span><span class='line'>
</span><span class='line'>    path_prefix = NIPathForBundleResource(nil, 'css') # resouces/css に CSS を置く
</span><span class='line'>    host = 'http://localhost:8888/' # CSSファイルの変更を監視サーバを指定する。後述。
</span><span class='line'>    @stylesheet_cache = NIStylesheetCache.alloc.initWithPathPrefix(path_prefix)
</span><span class='line'>    @chameleonObserver = NIChameleonObserver.alloc.initWithStylesheetCache(
</span><span class='line'>      @stylesheet_cache, host:host)
</span><span class='line'>    @chameleonObserver.watchSkinChanges
</span><span class='line'>
</span><span class='line'>    main_controller = MainController.alloc.initWithNibName(nil, bundle:nil)
</span><span class='line'>    @root_controller = UINavigationController.alloc.initWithRootViewController(main_controller)
</span><span class='line'>    @window.rootViewController = @root_controller
</span><span class='line'>
</span><span class='line'>    @window.makeKeyAndVisible
</span><span class='line'>
</span><span class='line'>    true
</span><span class='line'>  end
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<p>app/main_controller.rb</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class MainController &lt; UIViewController
</span><span class='line'>  def dealloc
</span><span class='line'>    # BubbleWrap を使っています。
</span><span class='line'>    App.notification_center.unobserve(@style_observer)
</span><span class='line'>  end
</span><span class='line'>
</span><span class='line'>  def initWithNibName(nibNameOrNil, bundle:nibBundleOrNil)
</span><span class='line'>    super
</span><span class='line'>    stylesheet_cache = App.delegate.stylesheet_cache
</span><span class='line'>    stylesheet = stylesheet_cache.stylesheetWithPath('main.css')
</span><span class='line'>    @dom = NIDOM.alloc.initWithStylesheet(stylesheet)
</span><span class='line'>    @style_observer = App.notification_center.observe(NIStylesheetDidChangeNotification, stylesheet) do |notif|
</span><span class='line'>      @dom.refresh
</span><span class='line'>    end
</span><span class='line'>    self.title = 'Nimbus CSS'
</span><span class='line'>    self
</span><span class='line'>  end
</span><span class='line'>
</span><span class='line'>  def loadView
</span><span class='line'>    self.view = UIView.new.tap do |v|
</span><span class='line'>      v.backgroundColor = UIColor.underPageBackgroundColor
</span><span class='line'>    end
</span><span class='line'>    bg_view = UIView.alloc.initWithFrame([[10, 10], [300, 300]])
</span><span class='line'>    @dom.registerView(bg_view, withCSSClass:'background')
</span><span class='line'>
</span><span class='line'>    label = UILabel.new.tap do |l|
</span><span class='line'>      l.text = 'Hello, Nimbus'
</span><span class='line'>      l.frame = [[20, 20], [200, 100]]
</span><span class='line'>    end
</span><span class='line'>    @dom.registerView(label)
</span><span class='line'>
</span><span class='line'>    small_label = UILabel.new.tap do |l|
</span><span class='line'>      l.text = 'small label'
</span><span class='line'>      l.frame = [[20, 130], [200, 50]]
</span><span class='line'>    end
</span><span class='line'>    @dom.registerView(small_label, withCSSClass:'small')
</span><span class='line'>
</span><span class='line'>    self.view.addSubview(bg_view)
</span><span class='line'>    self.view.addSubview(label)
</span><span class='line'>    self.view.addSubview(small_label)
</span><span class='line'>  end
</span><span class='line'>
</span><span class='line'>  def viewDidUnLoad
</span><span class='line'>    @dom.unregisterAllViews
</span><span class='line'>  end
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<p>resources/css/main.css</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>.background {
</span><span class='line'>  background-color: red;
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>UILabel {
</span><span class='line'>  font: 24, "Verdana-Bold";
</span><span class='line'>  background-color: clear;
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>.small {
</span><span class='line'>  font-size: 12;
</span><span class='line'>  background-color: rgba(255, 255, 255, 0.7);
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>これで実行すると、下図のような結果になるかと思います。</p>

<p><img src="/images/201212/nimbus.png"></p>

<p>ちなみに、使用できる CSS のプロパティ一覧は <a href="http://docs.nimbuskit.info/NimbusCSS.html">Nimbus: Nimbus CSS</a> の &ldquo;Supported CSS Properties&rdquo; のところにあります。<br/>
本当は view の位置も調整できると嬉しかったのですが、まだ未対応のようです。</p>

<h2>リアルタイムに変更してみる</h2>

<p>さて、いよいよリアルタイムに変更してみたいと思います。</p>

<p>前述のように、コード中に CSS ファイルの変更を監視するサーバを指定しました。これは <a href="https://github.com/jverkoey/nimbus">https://github.com/jverkoey/nimbus</a> から clone してくると src/css/chameleon にあります。</p>

<p>node.js でできたツールですので、node.js の開発環境が整っていない方は適宜<code>brew install node</code>などをして入れてください。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ cd /path/to/chameleon
</span><span class='line'>$ npm install
</span><span class='line'>$ node chameleon.js --watch /path/to/resources/css</span></code></pre></td></tr></table></div></figure>


<p>上記のようにすると、サーバーが立ち上がると思います。念のためブラウザで確認してみましょう。</p>

<p><a href="http://localhost:8888/watch">http://localhost:8888/watch</a> にアクセスし、CSS を保存すると変更されたファイルのパスが画面に表示されると思います。</p>

<p>改めて <code>$ rake</code> し、<code>background-color</code> などを書き換えて遊んでみてください。</p>

<h2>まとめ</h2>

<p>このように、RubyMotion と motion-cocoapods を使えば Nimbus のような Objective-C で書かれたフレームワークも簡単に使うことができます。むしろ、Objective-C でやるよりもライブラリのインストールは楽かもしれません。</p>

<p>今回は Nimbus CSS のみを使ってみましたが、Nimbus には他にもダッシュボード風の UI を作るクラスや、iOS 標準アプリの写真アプリみたいな UI を作るクラス、組み込みのブラウザとしてそのまま使えるクラスなども含まれています。</p>

<p>うまく再利用して効率的にアプリ開発をしたいですね！</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-12-17T20:50:00+09:00" pubdate data-updated="true">Dec 17<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/rubymotion/'>RubyMotion</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/12/08/rubymotion-tips/">
		
			RubyMotion の小ワザ</a>
	</h2>
	<div class="entry-content">
		<p>この記事は <a href="http://www.adventar.org/calendars/18">RubyMotion Advent Calendar 2012</a> の8日目の記事です。</p>

<p>実際に RubyMotion を使って開発する上で、知っておくとちょっと便利かもしれない小ワザを並べてみます。</p>

<h2>複数の iOS 機器をつないでいるときにデプロイする機器を指定する</h2>

<p>仕事で iOS アプリの開発をしていると、Mac に複数の機器をつないでいることもしばしばあります。そういうときに <code>rake device</code> する際、<code>id</code>パラメータを指定するとでプロイする機器を選択することができます。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rake device id=hogehoge</span></code></pre></td></tr></table></div></figure>


<p>この際に使うidというのは Identifier のことで Xcode の Organizer で調べることができます。</p>

<p><img src="/images/201212/identifier-in-organizer.png"></p>

<h2>設定を yaml ファイルにまとめる</h2>

<p>複数のアプリの開発をしていると、毎回 Rakefile に testflight の token を書くのは面倒ですし、Rakefile がごちゃっとしますよね。</p>

<p>僕は yaml にそういった設定情報を書くようにしています。</p>

<p>yaml ファイルはこんな感じ。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>testflight:
</span><span class='line'>  api_token: API_TOKEN
</span><span class='line'>  team_token: TEAM_TOKEN
</span><span class='line'>  distribution_lists:
</span><span class='line'>    - DIST_LISTS
</span><span class='line'>
</span><span class='line'>identifier: com.example.coolapp
</span><span class='line'>
</span><span class='line'>development:
</span><span class='line'>  certificate: 'iPhone Developer: foo (bar)'
</span><span class='line'>  provisioning: '/path/to/foo.mobileprovision'
</span><span class='line'>
</span><span class='line'>adhoc:
</span><span class='line'>  certificate: 'iPhone Distribution: foo'
</span><span class='line'>  provisioning: '/path/to/foo.mobileprovision'
</span><span class='line'>
</span><span class='line'>release:
</span><span class='line'>  certificate: 'iPhone Distribution: foo'
</span><span class='line'>  provisioning: '/path/to/foo.mobileprovision'</span></code></pre></td></tr></table></div></figure>


<p>Rakefile 内でこんな風に使います。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  require 'yaml'
</span><span class='line'>  conf_file = './config.yml'
</span><span class='line'>  if File.exists?(conf_file)
</span><span class='line'>    config = YAML::load_file(conf_file)
</span><span class='line'>    app.testflight.sdk        = 'vendor/TestFlightSDK'
</span><span class='line'>    app.testflight.api_token  = config['testflight']['api_token']
</span><span class='line'>    app.testflight.team_token = config['testflight']['team_token']
</span><span class='line'>    app.testflight.notify     = true
</span><span class='line'>    app.testflight.distribution_lists = config['testflight']['distribution_lists']
</span><span class='line'>    app.identifier = config['identifier']
</span><span class='line'>    app.info_plist['CFBundleURLTypes'] = [
</span><span class='line'>      { 'CFBundleURLName' =&gt; config['identifier'],
</span><span class='line'>        'CFBundleURLSchemes' =&gt; ['coolapp'] }
</span><span class='line'>    ]
</span><span class='line'>
</span><span class='line'>    env = ENV['ENV'] || 'development'
</span><span class='line'>    app.codesign_certificate = config[env]['certificate']
</span><span class='line'>    app.provisioning_profile = config[env]['provisioning']
</span><span class='line'>  end</span></code></pre></td></tr></table></div></figure>


<p>testflight で配布するときはこんな感じ。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rake testflight notes="hogehoge" mode=release ENV=adhoc</span></code></pre></td></tr></table></div></figure>


<h2>RubyMotion のバージョンを戻す</h2>

<p>RubyMotion をアップデートして何かおかしなことが起きたら、以下のコマンドで任意のバージョンに戻すことができます。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ motion update --force-version=1.15</span></code></pre></td></tr></table></div></figure>


<h2>tap を使って処理をすっきりまとめて書く</h2>

<p><code>Object#tap</code> を使うと、以下のように書くことができます。初期化の固まりを視覚的に認識しやすいので僕は気に入っています。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># 普通に書くと...
</span><span class='line'>label = UILabel.new
</span><span class='line'>label.frame = [[0, 0], [320, 10]]
</span><span class='line'>label.lineBreakMode = UILineBreakModeWordWrap
</span><span class='line'>label.numberOfLines = 0
</span><span class='line'>label.font = UIFont.systemFontOfSize(12)
</span><span class='line'>label.text = text
</span><span class='line'>label.backgroundColor = UIColor.lightGrayColor
</span><span class='line'>label.alpha = 0.8
</span><span class='line'>label.sizeToFit
</span><span class='line'>
</span><span class='line'>
</span><span class='line'># tap を使ってまとまりを持たせる
</span><span class='line'>label = UILabel.new.tap do |l|
</span><span class='line'>  l.frame = [[0, 0], [320, 10]]
</span><span class='line'>  l.lineBreakMode = UILineBreakModeWordWrap
</span><span class='line'>  l.numberOfLines = 0
</span><span class='line'>  l.font = UIFont.systemFontOfSize(12)
</span><span class='line'>  l.text = text
</span><span class='line'>  l.backgroundColor = UIColor.lightGrayColor
</span><span class='line'>  l.alpha = 0.8
</span><span class='line'>  l.sizeToFit
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<h2>weak_frameworks</h2>

<p>例えば deployment_target を 5.0 以上にしている場合でも、iOS 6.0 で起動中は Social フレームワークを使いたいというケース、あると思います。
ただし、普通に <code>app.frameworks</code> に <code>Social</code> を足してしまうと iOS 6.0 以上にしか存在しないフレームワークなのでビルドが通らなくなってしまいます。</p>

<p>そういうときは <code>app.weak_framework</code> を使えば、必要になったときにframeworkをロードするようになります。</p>

<p>もちろん、iOS 5.0 で Social フレームワークが使えるわけではないので以下のように切り分けは必要です。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>def can_open_tweet?
</span><span class='line'>  if defined?(SLComposeViewController)
</span><span class='line'>    SLComposeViewController.isAvailableForServiceType(SLServiceTypeTwitter)
</span><span class='line'>  else
</span><span class='line'>    TWTweetComposeViewController.canSendTweet
</span><span class='line'>  end
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<p>以下のコマンドで使用するシミュレータの OS のバージョンを指定して起動することができます。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rake target=6.0</span></code></pre></td></tr></table></div></figure>


<h2>bundler を使う</h2>

<p>RubyMotion 用の gem も BubbleWrap をはじめとしてたくさん出てきました。rails を使った開発のように Bundler を使用すると依存関係を管理することができ、複数人での開発などがしやすくなります。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ gem install bundler
</span><span class='line'>$ bundle init # これで Gemfile が生成されるので必要な Gem を中に書く
</span><span class='line'>$ bundle install --path vendor/bundle # gem をインストールするパスを指定</span></code></pre></td></tr></table></div></figure>


<p>Gemfile はこんな感じになります。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>source "https://rubygems.org"
</span><span class='line'>
</span><span class='line'>gem 'bubble-wrap'
</span><span class='line'>gem 'motion-cocoapods'
</span><span class='line'>gem 'motion-testflight'</span></code></pre></td></tr></table></div></figure>


<p>Bundler でインストールした gem を使うには Rakefile の冒頭の以下のようにします。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># -*- coding: utf-8 -*-
</span><span class='line'>$:.unshift("/Library/RubyMotion/lib")
</span><span class='line'>require 'motion/project'
</span><span class='line'>require 'bundler/setup'
</span><span class='line'>Bundler.require :default</span></code></pre></td></tr></table></div></figure>


<p>一点注意があります。bundler でインストールされた rake とビルド時に使用する rake のバージョンが異なる場合、rake 実行時に以下のようなメッセージが表示されます。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rake
</span><span class='line'>rake aborted!
</span><span class='line'>You have already activated rake 10.0.2, but your Gemfile requires rake 0.9.5. Using bundle exec may solve this.
</span><span class='line'>/path/to/Rakefile:4:in `&lt;top (required)&gt;'
</span><span class='line'>(See full trace by running task with --trace)</span></code></pre></td></tr></table></div></figure>


<p>bundle exec を使うと、Bundler でインストールされた rake を使うことができます。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ bundle exec rake</span></code></pre></td></tr></table></div></figure>


<h2>mode が development か release かを判断する</h2>

<p>RubyMotion のプロジェクトのビルドには development と release の2つのモードがあります。</p>

<p>development は開発用にシミュレータや開発機に転送するのに使い、release は AppStore への提出用です。</p>

<p>以下のようにしてモードを指定してビルドすることができます。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rake mode=development
</span><span class='line'># または
</span><span class='line'>$ rake mode=release</span></code></pre></td></tr></table></div></figure>


<p>現時点での両者の違いは、release モードにすると実行ファイルの最適化が行われることです。それによって、そのプロセスが無い分 development モードのビルドは早くなり、逆に実行時の速度が若干損なわれるそうです。（ベンチマークとっていないのでちょっとその差がどのくらいなのか、までは比べていませんが&hellip;）</p>

<p>さて、モードによって処理を分けたいところも存在すると思います。development モードのときだけログを出したりとか。</p>

<p>Rakefile の中では <code>app.development</code>, <code>app.release</code> というメソッドが使えます。それぞれブロックの中身が対応するモードのときにのみ実行されます。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Motion::Project::App.setup do |app|
</span><span class='line'>  # ...
</span><span class='line'>  app.development do
</span><span class='line'>    # This entitlement is required during development but must not be used for release.
</span><span class='line'>    app.entitlements['get-task-allow'] = true
</span><span class='line'>  end
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<p>Rakefile ではなく実行コードの方では <code>RUBYMOTION_ENV</code> という定数が使えます。</p>

<h2>まとめ</h2>

<p>思いついたものをざっと並べただけでした。既に開発をバリバリやっている方にはご存知の物も多いかもしれませんが、参考になれば幸いです。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-12-08T19:30:00+09:00" pubdate data-updated="true">Dec 8<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/rubymotion/'>RubyMotion</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/12/02/install-ruby-2-dot-0-0-preview2/">
		
			Ruby 2.0.0-preview2 をインストール</a>
	</h2>
	<div class="entry-content">
		<p>普通に <code>rbenv install 2.0.0-preview2</code> したら openssl を require できなかったので以下の手順を行った。</p>

<p>環境は
&ndash; Mac OS X 10.8.2 (10.7.xからのアップグレード)
&ndash; brew
&ndash; brew でインストールした rbenv, ruby-build を使用
&ndash; zsh</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ brew install openssl
</span><span class='line'>$ vim .zshrc
</span><span class='line'># 以下を追記
</span><span class='line'>export CONFIGURE_OPTS='--with-readline-dir=/usr/local/opt/readline --with-openssl-dir=/usr/local/opt/openssl' 
</span><span class='line'>$ rbenv install 2.0.0-preview2
</span><span class='line'>$ rbenv global 2.0.0-preview2
</span><span class='line'>$ ruby -ropen-uri -e 'p open("https://www.google.com/").read'
</span><span class='line'>OpenSSL::SSL::SSLError: SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed
</span><span class='line'>…(snip)
</span><span class='line'># 証明書が無いのが原因？
</span><span class='line'>$ curl -O http://curl.haxx.se/ca/cacert.pem
</span><span class='line'># 証明書はどこに置けば良いの？
</span><span class='line'>$ ruby -ropenssl -e 'p OpenSSL::X509::DEFAULT_CERT_FILE'
</span><span class='line'>"/usr/local/etc/openssl/cert.pem"
</span><span class='line'>$ mv cacert.pem /usr/local/etc/openssl/cert.pem</span></code></pre></td></tr></table></div></figure>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-12-02T17:11:00+09:00" pubdate data-updated="true">Dec 2<span>nd</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/ruby/'>ruby</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/12/01/rubymotion-first-step/">
		
			RubyMotion のはじめの一歩</a>
	</h2>
	<div class="entry-content">
		<p>この記事は <a href="http://www.adventar.org/calendars/18">RubyMotion Advent Calendar 2012</a> の一日目の記事です。</p>

<p>RubyMotion を買ってみたけれどもまだ具体的なアプリ作りまでは進んでいない方向けに、RubyMotion で手っ取り早くアプリ開発を始める手順をまとめてみます。</p>

<h2>API リファレンスを準備する</h2>

<p>RubyMotion での開発は <a href="https://developer.apple.com/jp/technologies/ios/cocoa-touch.html">Cocoa Touch</a> フレームワークを直接使いますので、Cocoa Touch の API リファレンスを常に引けるようにしておいて下さい。</p>

<p><a href="http://www.rubymotion.com/developer-center/api/index.html">RubyMotion API Reference</a> を見るか、iOS アプリの開発を既に経験されている方は Cocoa Touch のドキュメントを見るのが良いと思います。</p>

<p>RubyMotion 勉強会や RubyMotion もくもく会などで聞いてみたところ、<a href="https://itunes.apple.com/jp/app/dash-docs-snippets/id458034879?mt=12">Dash</a> を使っている人が大多数でした。</p>

<p>Dash用の <a href="http://rubymotion.com/files/RubyMotion.docset.zip">RubyMotion Docset</a> も最近公開されました。（ファイルへの直リンクになっています。）</p>

<h2>チュートリアル</h2>

<p>手前味噌ですが、僕が以前 Rubyist Magazine に書かせていただいた記事がごく簡単なチュートリアルになっています。</p>

<p><a href="http://jp.rubyist.net/magazine/?0039-IntroductionToRubyMotion">RubyMotion のご紹介</a></p>

<p>もう少しアプリケーションとして楽しい物を作りたい方は id:naoya さんの記事を読みながら作ってみるのがおすすめです。</p>

<p><a href="http://d.hatena.ne.jp/naoya/20120831/1346409758">RubyMotion &ndash; naoyaのはてなダイアリー</a></p>

<p>あとは <a href="https://github.com/HipByte/RubyMotionSamples">RubyMotionSamples</a> を動かしてみながら、改造したりして遊ぶのが楽しいと思います。</p>

<p>ここまでで大体の感触を掴んだら、もう少しがっつりしたチュートリアルを一通りやってみましょう。<a href="http://rubymotion-tutorial.com">RubyMotion Tutorial</a> がおすすめです。日本語への翻訳も途中までやっているのですが、最近全然進めていないです。。。</p>

<p>僕はあまり詳しく見ていないのですが、<a href="http://iconoclastlabs.github.com/rubymotion_cookbook/">RubyMotion Cookbook</a> も参考になります。
O&#8217;Reilly から出ている <a href="http://shop.oreilly.com/product/0636920021728.do">iOS 5 Programming Cookbook</a> という本に載っているサンプルコードを RubyMotion で実装しています。</p>

<h2>全体像を理解する</h2>

<p>もちろん RubyMotion 以前に iOS アプリの開発をされていた方は Cocoa Touch についてはもう熟知されていると思いますが、僕のように RubyMotion から iOS アプリ開発を始めた人は、チュートリアルを終えただけでは実際にアプリを開発しようと思っても手が止まってしまうかもしれません。</p>

<p>RubyMotion からは離れてしまいますが、Objective-C で書かれた Apple の公式ドキュメントもとても参考になります。
Apple が日本語に翻訳した PDF もあります。
<a href="https://developer.apple.com/jp/devcenter/ios/library/japanese.html">日本語ドキュメント &ndash; Apple Developer</a></p>

<p>「iOS View Controllerカタログ」、「iOS View Controller プログラミングガイド」、「iOS View プログラミングガイド」あたりはもしまだ読んでいないようでしたら一通り目を通すことをお勧めします。
チュートリアルから先に進むときに必要な知識になります。</p>

<p>コツさえ覚えてしまえば Objective-C で書かれたサンプルコードなどを RubyMotion で実装するのは容易ですので、Objective-C でコードが書かれた書籍も役に立ちます。個人的には <a href="http://tatsu-zine.com/books/objc">エキスパートObjective-Cプログラミング ― iOS/OS Xのメモリ管理とマルチスレッド</a> がメモリ管理周り(RubyMotion は ARC と同じようなメモリ管理の仕組みが備わっています)とGCDの話をわかりやすく解説していてくれたのでとてもためになりました。</p>

<h2>Ruby らしく書く</h2>

<p>Cocoa Touch フレームワークを Ruby らしく利用できるようにラップしたライブラリが色々あります。<a href="http://rubymotion-wrappers.com">RubyMotion wrappers</a> にまとまっていますが、BubbleWrap は特に使っている人が多いようです。</p>

<p>既存の RubyGems は残念ながら使えないのですが、<a href="https://github.com/HipByte/motion-cocoapods">motion-cocoapods</a> を使うことで、Objective-C で書かれたライブラリを気軽に利用することができます。</p>

<p>Ruby の特徴であるメタプログラミングを活かしたい方は <a href="http://clayallsopp.com/posts/rubymotion-metaprogramming/">RubyMotion Metaprogramming</a> のエントリがとても参考になります。</p>

<h2>困ったときの解決方法</h2>

<p>いざアプリを作り始めるとハマることも多々あると思います。</p>

<p>英語ですが、<a href="http://stackoverflow.com">Stack Overflow</a>、<a href="https://groups.google.com/forum/?fromgroups#!forum/rubymotion">Googleグループ</a> で検索すると同じ問題でハマっている人もいると思います。</p>

<p>RubyMotion の情報に絞ってしまうと情報量がまだまだ少ないので、積極的に Objective-C のコードが出てきても読み進めていく方がいいです。</p>

<p>それでも解決しない場合などはコミュニティに質問を投げてしまうと良いと思います。
twitter なら #rubymotionjp のハッシュタグをつけてつぶやいてみる、facebook なら <a href="https://www.facebook.com/groups/149315595198329/">RubyMotion JP</a> に書き込んでみる、などしてみてください。</p>

<ul>
<li><a href="http://rubymotion.jp">RubyMotionJP</a><br/>
ドキュメントの翻訳やイベントの情報などが掲載されています</li>
<li>RubyMotion 勉強会、もくもく会 などに参加する！</li>
</ul>


<h2>まとめ</h2>

<p>iOS アプリの開発、楽しいです。RubyMotion や僕の書いた記事があなたの背中を押しますように。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-12-01T01:07:00+09:00" pubdate data-updated="true">Dec 1<span>st</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/rubymotion/'>RubyMotion</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/11/06/use-google-reader-api-with-ruby/">
		
			RubyでGoogleReaderAPIにアクセスする</a>
	</h2>
	<div class="entry-content">
		<h2>やりたかったこと</h2>

<p>あるサイトの過去記事を全部RDF or Atomで取得したかった。</p>

<h2>手順</h2>

<p><a href="https://github.com/nudded/GoogleReaderAPI">GoogleReaderApi</a> っていうgemがあったので使ってみた。</p>

<p>実際はBundler使ってプロジェクト以下にインストールしたりしているが省略。</p>

<p>パラメータとかエンドポイントはぐぐったら非公式のドキュメントが出てきたのでそちらを参照。</p>

<p><a href="http://code.google.com/p/pyrfeed/wiki/GoogleReaderAPI">http://code.google.com/p/pyrfeed/wiki/GoogleReaderAPI</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ gem install GoogleReaderApi
</span><span class='line'>$ pry
</span><span class='line'>&gt; require 'google_reader_api'
</span><span class='line'>&gt; api = GoogleReaderApi::Api.new {:email =&gt; 'example@gmail.com', :password =&gt; 'password'}
</span><span class='line'>&gt; api.get_link('atom/feed/http://example.com/feed.rdf', {n:10, r:'o', ot:Date.parse('2012-11-01').to_time.to_i})</span></code></pre></td></tr></table></div></figure>


<p>こんな感じでとれたので、あとはSimpleRSSとかのgemを使ってパースするだけだ！と思いきや、1ヶ月以上昔のエントリの情報は取れないらしい。</p>

<h2>cパラメータを使えばいいらしい</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&gt; c = ''
</span><span class='line'>&gt; rss = SimpleRSS.parse(
</span><span class='line'>    api.get_link(
</span><span class='line'>      'atom/feed/http://kanasoku.blog82.fc2.com/%3Fxml', {c:c}
</span><span class='line'>    ).tap{|xml|
</span><span class='line'>      c = xml.gsub(%r!^.*&lt;gr:continuation&gt;(.+)&lt;/gr:continuation&gt;.*$!m, $1)
</span><span class='line'>    })
</span><span class='line'>&gt; # 繰り返し</span></code></pre></td></tr></table></div></figure>


<p>「次を読む」の要領でどんどんさかのぼれる。<br/>
スクレイピングしないで済みそう。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-11-06T22:37:00+09:00" pubdate data-updated="true">Nov 6<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/ruby/'>ruby</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/10/31/design4p-1st/">
		
			第一回プログラマ向けデザイン勉強会を開催しました</a>
	</h2>
	<div class="entry-content">
		<p>10/27(土)に <a href="http://connpass.com/event/1185/">第一回プログラマ向けデザイン勉強会</a> を開催しました。</p>

<p>この勉強会は毎月やっている <a href="https://www.facebook.com/groups/151208708350141/">デザイナー向けプログラム部 (P4D)</a> の逆バージョンで、デザイナさんにプログラマがデザインを教わるという趣旨で開催しました。<br/>
そして講師役として、いつもP4Dの方でもお世話になっている <a href="https://twitter.com/machida">@machida</a> さん、<a href="https://twitter.com/ken_c_lo">@ken_c_lo</a> さん、<a href="https://twitter.com/saucerjp">@saucerjp</a> さんの3人にお願いしました。<br/>
もっともこの3人をはじめ、P4Dに参加されているデザイナさんは普通にJSやFlash、ObjCなんか書いていたりして単にデザイナと呼んでいいのかどうかは怪しいところですが。</p>

<h2>RailsエンジニアのためのTwitter Bootstrapカスタマイズ例</h2>

<script async class="speakerdeck-embed" data-id="508e2052aee4d50002021f36" data-ratio="1.299492385786802" src="//speakerdeck.com/assets/embed.js"></script>


<p>まずは@machidaさんのTwitter Bootstrapのカスタマイズ例の話からでした。</p>

<p>このテーマはP4D参加のプログラマからしきりにリクエストのあった「Twitter Bootstrapを使うとみんなTwitter Bootstrapっぽいサイトになってしまうから、カスタマイズ方法を教えて！ただし手間はかけたくない！！」というワガママな願いを叶えてくれるものでした。</p>

<p>特にデザインに悩んだときはとりあえずちょっとずつスタイルシートをいじった結果をスクリーンショットにとって、ぱっぱっと切り替えながらbefore / afterを比べると判断しやすい、という話が目から鱗でした。</p>

<p>あとはこの次の@ken_c_loさんの発表でも再三出てくるのですが、<a href="http://sass-lang.com">sass</a> と <a href="http://compass-style.org">compass</a> が便利ですね。<br/>
特にsassに備わっている<code>darken</code>とか<code>lighten</code>だとかは僕も活用できていなかったので、今後使ってみようと思います。</p>

<p>会場には意外とRailsエンジニア以外の方もいらっしゃったので、僭越ながら僕の方から途中でちょこっとgemとかsassだとかの解説を入れさせていただきました。</p>

<h2>ズルいデザインテクニック</h2>

<script async class="speakerdeck-embed" data-id="508b975236b3f8000201a95e" data-ratio="1.4143646408839778" src="//speakerdeck.com/assets/embed.js"></script>


<p>続いて@ken_c_loさんによる「少ない手間と知識で &ldquo;それなり&rdquo; に見せる、ズルいデザインテクニック」のお話でした。</p>

<p>この発表については、発表中から勉強会終了後にいたるまでTLやはてブで多数の「ズルい！」の賞賛の声が上がっていました。</p>

<p>まさにタイトルに偽り無しで、ちょっとした手間をかけるだけでとたんに実物っぽく見せる技を惜しげも無く大公開していただきました。</p>

<p>sass, compassを使って実例が挙げられていますが、WebだけではなくてLTのスライドやスマホアプリなどにも応用ができそうな普遍的な内容でした。</p>

<p>あとは使っているエディタを聞かれて「vimです」と答えた場面はおおいに盛り上がりました。</p>

<h2>ノンデザイナーのための配色理論</h2>

<iframe src="http://www.slideshare.net/slideshow/embed_code/14902681" width="427" height="356" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC;border-width:1px 1px 0;margin-bottom:5px" allowfullscreen> </iframe>


<p> <div style="margin-bottom:5px"> <strong> <a href="http://www.slideshare.net/saucerjp/ss-14902681" title="ノンデザイナーのための配色理論" target="_blank">ノンデザイナーのための配色理論</a> </strong> from <strong><a href="http://www.slideshare.net/saucerjp" target="_blank">saucerjp</a></strong> </div></p>

<p>最後は@saucerjpさんによる配色のお話でした。</p>

<p>前半はまるで大学の授業のような感じで配色理論の大事なところだけをぎゅっと凝縮して教えていただきました。@saucerjpさんが完全に先生に見えましたw</p>

<p>そして後半は、なんとこの日のために@saucerjpさんが開発した(!)色選びのためのWebアプリを使って、手軽にきれいな色選びができるという実演を行っていただきました。</p>

<p>そのアプリはこちらです。<a href="http://hue360.herokuapp.com">[ HUE / 360 ] The Color Scheme Application</a></p>

<p>JSのアプリケーションですが、Sinatra使ってHerokuにデプロイされているあたり、さすがですね。</p>

<h2>Webサービスデザイン相談会</h2>

<p>即興ですが、2名の方に名乗り出ていただいて実際に動作しているWebアプリのデザインをデザイナ陣にコンサルしてもらう、というコーナーを設けました。</p>

<p>議論が白熱して時間ギリギリいっぱいまでアドバイスを出していただけました。</p>

<h2>開催してみての感想</h2>

<p>募集を始める前から参加希望者が多いことは予想していましたが、予想以上の反響でびっくりしました。<br/>
また、Rubyist以外にもずいぶんリーチしていたことも意外でした。それだけデザインの知識を必要とするプログラマがたくさんいて、今までそのノウハウが十分にシェアされてきていなかったということの現れでしょうか。</p>

<p>初の試みではありましたが、その後のソーシャルメディア等での反響を見るに、とてもいい勉強会にできたのでは、と思っています。</p>

<p>発表してくださった3人の方、会場を貸してくださった KDDIウェブコミュニケーションズ様、そして参加してくださったみなさん、本当にありがとうございました。</p>

<p>僕も素敵デザインなアプリが作れるように頑張りたいと思い、多いに刺激を貰いました。</p>

<h2>次回予告や宣伝など</h2>

<p>アポも許可もなんにも取っていませんが、町田さんのスライドによると次回は <a href="https://twitter.com/monoooki">@monoooki</a> さんや <a href="https://twitter.com/9d">@9d</a> さんや <a href="https://twitter.com/hmbrw">@hmbrw</a> さんによるフォント、スマホアプリのデザインなどのお話が聞けるらしいです。</p>

<p>あとは来年の1/13, 14に予定されている <a href="http://tokyo10.rubykaigi.info">東京Ruby会議10</a> で半日分 P4D の枠をいただいていますので、そこで今回の再演か続編、及びワークショップもしくはデザイン相談会（要はまだあんまり詰めていない）なんかをやりたいと思っていますので要チェックです。</p>

<p>デザイナ、エンジニア集まってお互いに学び合ったり、きゃっきゃウフフしたいという方はぜひお気軽に <a href="https://www.facebook.com/groups/151208708350141/">デザイナー向けプログラム部 (P4D)</a> へご参加ください。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-10-31T01:04:00+09:00" pubdate data-updated="true">Oct 31<span>st</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/design/'>design</a>, <a class='category' href='/blog/categories/event/'>event</a>


</div>
	
</div>
</article>

<nav id="pagenavi">
    
        <a href="/" class="prev">Prev</a>
    
    
        <a href="/blog/page/3/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2013

    Satoshi Ebisawa

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->




	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-32351198-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>